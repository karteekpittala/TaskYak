<!DOCTYPE html>
<html>
  <head>
  
    <title> TaskYak </title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
     <link rel="stylesheet" href="http://bsdp-assets.blackcherry.us/1.3.0/datepicker.min.css"/>
      <link rel="stylesheet" href="/css/bootstrapValidator.min.css"/>
      
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="http://bsdp-assets.blackcherry.us/1.3.0/bootstrap-datepicker.min.js"></script>

 </head>
  <body>
    <div class="container">
      <header>
        <div class="jumbotron text-center">
          <h1><span class="fa fa-lock"></span>TaskYak</h1>
        </div>
      </header>
      

      <nav class="navbar col-md-3" role="navigation" style="border-right:1px solid #ddd;padding: 0; ">
              <div class="container-fluid">
                <div class="collapse navbar-collapse">
                <ul class="nav nav-pills nav-stacked">
                  <li class="home"> <a href="/profile">Home</a> </li>
                  <li class="newTask active"> <a href="#">Add Task</a> </li>
                  <li class="taskList"> <a href="/tasklist">View Tasks</a> </li>     
                  <li class="listRoommates"> <a href="/listroommates">Add Group</a> </li>
                  <li class="testList"> <a href="/testlist">View Groups</a> </li>
                  <li> <a href='/logout'>Logout</a> </li>
               </ul>
             </div>
           </div>
     </nav>
 
        <div class="col-sm-6 col-sm-offset-1 content">
          <h2> Add task</h2>
          <form id="addtask" name="addtask" action="/addtask" method="post">
            <div class="form-group">
              <input id="inputTaskName" type="text" placeholder="A short description of the task" name="taskName" class="form-control">
            </div>
            <div class="form-group">
              <input id="inputTaskName" type="text" placeholder="Points on a scale of 1 to 10" name="taskPriority" class="form-control">
            </div>
            <div class="form-group">
                <div class="input-group date">
                  <input type="text" class="form-control" placeholder="If needed, specify a deadline" name="dueDate"/>
                  <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                  </span>
                </div>
            </div>
            <div class="form-group">
			<label>List roommates responsible for this task</label>
                <div class="col-md-9 col-xs-4">
				
                <select class="form-control" name="taskDoer" id="taskDoer">
                <%for (var i = 0;i<groups.length;i++) {%>				
				<%for (var j = 0; j<groups[i].groupMembers.length; j++) {%>
                  <option value= '<%= groups[i].groupMembers[j] %>' /><%= groups[i].groupMembers[j] %> </option>
                  <% }%>                 
				  <% }%>                 
                  </select>
                </div>
                <div class="col-md-3 col-xs-4">
                  <button name="add" id="add" type="button" class="btn btn-info btn-sm" > Add </button> 
                </div>
              </div>
              <div id="break">
                <br>
              </div>
              <div id="break">
                <br>
              </div>
              <div id="doers"></div><br>
              <button id="btnsubmit" type="submit" class="btn btn-warning btn-sm"> Submit Task </button>  
            </div>
          </form>
        </div>
      </div>
      
    <script type="text/javascript">
      $(function () {
        $(".date").datepicker();
      });

      $(document).ready(function() {
        $("button[name='add']").click(function () {
          var name = document.getElementById("taskDoer").value
        $("#doers").append("<div id='this' onClick='removeFriend(this)' ><input type='text' style='border:none' name='list'  value='"+name+"' />"+"&nbsp;<span class='glyphicon glyphicon-remove' style='color:#7F7F7F;'></span><br></div>");
        $("#taskDoer").val('');
        }); 
      });  
      
      function removeFriend(item) {
        $(item).remove();
      }
         
  </script>
   <script type="text/javascript">
      $(document).ready(function() {
            $('#addtask').bootstrapValidator({
        
              message: 'This value is not valid',
              fields:
              {
                        taskName: {
                            validators: {
                                notEmpty: {
                                    message: 'Please enter the task name'
                                }
                            }
                        },
                        taskPriority: {
                            validators: {
                                notEmpty: {
                                    message: 'Please enter the task points'
                                }
                            }
                        },
                        dueDate: {
                            validators: {
                                notEmpty: {
                                    message: 'Please enter the due date'
                                }
                            }
                        }
              }

            }); 
      });
    
    </script>  
  </body>
</html>
